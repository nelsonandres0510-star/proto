<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Influence - Your Brand</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;@700;900&display=swap" rel="stylesheet">
</head>

<body>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000;
            /* Fondo negro para el contraste */
            font-family: 'Inter', sans-serif;
            color: #fff;
            /* Texto blanco */
            overflow-x: hidden;
            overflow-y: auto;
        }

        .intro-influence {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .sentence-container {
            display: inline-block;
            /* Permite que el texto se ajuste a su contenido */
            max-width: 1000px;
            /* Para que no se estire demasiado en pantallas grandes */
        }

        .sentence-word {
            display: inline-block;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 300;
            line-height: 1.2;
            margin: 0 5px;
            opacity: 1;
            color: #fff;
            white-space: nowrap;
            will-change: opacity, transform;
        }

        /* --- NAVEGACIÓN --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 20px 40px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.1);
            /* ajusta el 0.1 */
            backdrop-filter: blur(10px);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }

        nav a {
            text-decoration: none;
            color: #ffffff;
            /* Cambiado a blanco para que se vea */
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.6;
            transition: 0.3s;
        }

        nav a:hover {
            opacity: 1;
        }

        section.next-content {
            height: 100vh;
            background: #111;
        }

        .phrase-section {
            position: relative;
            height: 100vh;
            background: #000;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .image-roulette {
            position: absolute;
            inset: 0;
            z-index: 1;
        }

        .image-roulette img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
        }

        /* Contenedor del texto */
        .text-wrapper {
            position: relative;
            z-index: 2;
            font-size: clamp(1.8rem, 4.2vw, 4.2rem);
            font-weight: 300;
            line-height: 1.05;
            text-align: center;
        }

        .line {
            display: block;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Línea interactiva */
        .trigger {
            position: relative;
            z-index: 3;
            cursor: pointer;
            pointer-events: auto;
            /* ...pero que el trigger SÍ detecte el mouse */
            margin-top: 20px;
        }

        /* Texto visible siempre */
        .text-base {
            color: rgba(255, 255, 255, 0.9);
            position: relative;
            z-index: 2;
        }

        /* Texto máscara */
        .masked-text {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 300;
            text-align: center;
            color: #fff;
            text-transform: lowercase;
            cursor: pointer;
            opacity: 1;
            /* Forzamos visibilidad inicial */
            transition: transform 0.3s ease, color 0.3s ease;
        }

        .masked-text:hover {
            transform: scale(1.05);
            color: transparent;
            -webkit-text-stroke: 1px #ffffff;
            transition: all 0.4s ease;
            /* Para que la transición sea suave */
        }

        .headline {
            font-size: clamp(2rem, 4vw, 4rem);
            font-weight: 300;
            text-align: center;
            transition: opacity 0.4s ease, filter 0.4s ease;
        }

        .trigger.active .masked-text {
            color: transparent;
            background: #fff;
            -webkit-background-clip: text;
            background-clip: text;
            mix-blend-mode: screen;
        }

        .headline-group {
            position: absolute;
            inset: 0;
            z-index: 5;
            /* Asegúrate de que esté por encima de las imágenes */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            pointer-events: none;
        }
    </style>

    <nav>
        <ul class="nav-left">
            <li><a href="index.html">Home</a></li>
            <li><a href="proyectos.html">Proyectos</a></li>
            <li><a href='importancia.html'>Importancia</a></li>
        </ul>
        <ul class="nav-right">
            <li><a href="#">Contacto</a></li>
        </ul>
    </nav>

    <section class="intro-influence section-1">
        <div class="sentence-container container-1"></div>
    </section>

    <section class="intro-influence section-2">
        <div class="sentence-container container-2"></div>
    </section>

    <section class="intro-influence section-3">

        <div class="project-roulette"
            style="opacity: 0; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: -1; pointer-events: none;">
            <img src="1.jpeg" style="position: absolute; opacity: 0;">
            <img src="2.jpeg" style="position: absolute; opacity: 0;">
            <img src="3.jpeg" style="position: absolute; opacity: 0;">
        </div>
        <div class="sentence-container container-3">
        </div>
    </section>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        document.addEventListener("DOMContentLoaded", () => {

            // Función para crear la animación por sección
            const createScrollText = (containerSelector, triggerSelector, text) => {
                const container = document.querySelector(containerSelector);
                if (!container) return;

                container.innerHTML = "";
                const wordsArray = text.split(" ");

                wordsArray.forEach((word) => {
                    const span = document.createElement("span");
                    // Limpiamos la palabra de comas o puntos para la comparación
                    const cleanWord = word.replace(/[.,]/g, "");

                    span.textContent = word;
                    // Todas las palabras llevan 'sentence-word' para el scroll y 'word-unit' para el hover
                    span.classList.add("sentence-word", "word-unit");

                    // Si la palabra es Honestidad, le damos la clase especial de disparo
                    if (cleanWord.toLowerCase() === "honestidad") {
                        span.classList.add("project-trigger");
                    }

                    container.appendChild(span);
                    container.appendChild(document.createTextNode(" "));
                });

                const spans = container.querySelectorAll(".sentence-word");

                gsap.from(spans, {
                    scrollTrigger: {
                        trigger: triggerSelector,
                        start: "top top",
                        end: "+=1500",
                        scrub: 1,
                        pin: true,
                        markers: false
                    },
                    opacity: 0,
                    x: (i) => (i % 2 === 0 ? -150 : 150),
                    rotate: (i) => (i % 2 === 0 ? -15 : 15),
                    stagger: 0.1,
                    ease: "power2.out"
                });
            };

            // LLAMADA PARA LA FRASE 1
            createScrollText(
                ".container-1",
                ".section-1",
                "Tu marca forma parte de una cultura compleja y en constante evolución. Su papel depende de una sola cosa: la influencia."
            );

            // LLAMADA PARA LA FRASE 2 (La nueva frase)
            createScrollText(
                ".container-2",
                ".section-2",
                "Es por eso que desafiamos a los líderes a cristalizar la historia de lo que representan sus marcas y por qué eso importa."
            );
            // LLAMADA PARA LA FRASE 3 (La nueva frase que solicitaste)
            createScrollText(
                ".container-3",
                ".section-3",
                "Construimos marcas que conecten con su público desde la Honestidad humanizamos la comunicación mostrando las marcas arriesgadas y disruptivas"
            );
        });

        // ... llamadas a createScrollText ...

        // Configuración de la Ruleta para la Frase 3
        const initHonestidadHover = () => {
            const rouletteImages = document.querySelectorAll('.project-roulette img');
            const trigger = document.querySelector('.project-trigger');
            let rouletteInterval;
            let currentIndex = 0;

            if (!trigger) return;

            function showNextImage() {
                gsap.to(rouletteImages[currentIndex], {
                    opacity: 0,
                    scale: 1.1,
                    duration: 0.8,
                    ease: "power2.inOut",
                    overwrite: true
                });

                currentIndex = (currentIndex + 1) % rouletteImages.length;

                gsap.to(rouletteImages[currentIndex], {
                    opacity: 0.7,
                    scale: 1,
                    duration: 1,
                    ease: "power2.out",
                    overwrite: true
                });
            }

            trigger.addEventListener('mouseenter', () => {
                gsap.to('.project-roulette', { opacity: 1, duration: 0.5 });
                showNextImage();
                rouletteInterval = setInterval(showNextImage, 800);

                const words = document.querySelectorAll('.container-3 .word-unit');
                words.forEach(word => {
                    if (!word.classList.contains('project-trigger')) {
                        gsap.to(word, { opacity: 0.1, filter: "blur(8px)", y: -10, duration: 0.3 });
                    } else {
                        gsap.to(word, {
                            scale: 1.3,
                            filter: "blur(0px)",
                            y: 0,
                            duration: 0.3,
                            color: "#000" // O el color que prefieras resaltar
                        });
                    }
                });
            });

            trigger.addEventListener('mouseleave', () => {
                clearInterval(rouletteInterval);
                gsap.to('.project-roulette', { opacity: 0, duration: 0.5 });

                const words = document.querySelectorAll('.container-3 .word-unit');
                words.forEach(word => {
                    gsap.to(word, {
                        opacity: 1,
                        filter: "blur(0px)",
                        y: 0,
                        scale: 1,
                        duration: 0.4,
                    });
                });
            });
        };

        // Ejecutar después de crear los textos
        initHonestidadHover();

        // Selecciona elementos
        const images = document.querySelectorAll(".image-roulette img");
        const trigger = document.querySelector(".trigger");
        const mask = trigger.querySelector(".masked-text");

        let index = 0;
        let loop;

        function nextImage() {
            gsap.to(images[index], { opacity: 0, duration: 0.6 });

            index = (index + 1) % images.length;

            gsap.to(images[index], {
                opacity: 1,
                scale: 1.05,
                duration: 0.8,
                ease: "power2.out"
            });
        }

        trigger.addEventListener("mouseenter", () => {
            gsap.to(mask, { opacity: 1, duration: 0.3 });
            nextImage();
            loop = setInterval(nextImage, 900);
        });

        trigger.addEventListener("mouseleave", () => {
            clearInterval(loop);
            gsap.to(images, { opacity: 0, duration: 0.5 });
            // gsap.to(mask, { opacity: 0, duration: 0.3 });
        });
        const maskedText = document.querySelector(".masked-text");
        const headlines = document.querySelectorAll(".headline");

        maskedText.addEventListener("mouseenter", () => {
            gsap.to(headlines, {
                opacity: 0,
                filter: "blur(10px)",
                duration: 0.4,
                stagger: 0.05,
                ease: "power2.out"
            });
        });

        maskedText.addEventListener("mouseleave", () => {
            gsap.to(headlines, {
                opacity: 1,
                filter: "blur(0px)",
                duration: 0.4,
                stagger: 0.05,
                ease: "power2.out"
            });
        });

    </script>
</body>

</html>